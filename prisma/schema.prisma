// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model UsersData {
  UserID                      String @db.VarChar(50)  @id
  UserVoiceRankCardColor      String?
  UserTextRankCardColor       String?
  UserVoiceRankCardBackground String?
  UserTextRankCardBackground  String?

}

model UserNotes {
  UserID String
  GuildID String
  Note String @db.MediumText
  NoteID Int
  Perpetrator String
  ReadRoleID String?
  AttachmentURL String? @db.MediumText
  Unix String 

  @@id([NoteID, GuildID])
}

model GuildsData {
  GuildID           String @db.VarChar(50) @id
  Prefix            String @db.Char(1) @default("!")
  VoiceSpeedDefault Int?    
  TextExperienceMin Int?  
  TextExperienceMax Int?     
  VoiceExperienceMin Int?  
  VoiceExperienceMax Int? 
  TextExpEnabled   Boolean @default(true)
  VoiceExpEnabled  Boolean @default(true)
  TextDefaultMessage String? @db.MediumText
  VoiceDefaultMessage String? @db.MediumText

  @@index([GuildID])
}

model ConfigTempChannels {
  GuildID String @db.VarChar(30)
  TempVoiceChannelCreate String @db.VarChar(30)
  TempVoiceCategory String @db.VarChar(30)

  @@id([GuildID, TempVoiceCategory])
  @@index([GuildID])
  @@index([TempVoiceChannelCreate])
}

model UsersVoiceExperienceData {
  UserID          String @db.VarChar(50)
  GuildID         String @db.VarChar(50)
  VoiceExperience Int    @default(0)
  Nivel           Int    @default(0)
  TotalExperience Int    @default(0)

  @@id([UserID, GuildID])
  @@index([UserID])
  @@index([GuildID])
  @@index([Nivel])
  @@index([VoiceExperience])
  @@index([TotalExperience])
}

model VoiceRoleRewards {
  GuildID String @db.VarChar(50)
  Nivel   Int
  RoleID  String @db.VarChar(50)

  @@id([GuildID, RoleID])
  @@index([GuildID])
  @@index([RoleID])
}

model UsersTextExperienceData {
  UserID          String @db.VarChar(50)
  GuildID         String @db.VarChar(50)
  TextExperience  Int    @default(0)
  Nivel           Int    @default(1)
  TotalExperience Int    @default(0)

  @@id([UserID, GuildID])
  @@index([UserID])
  @@index([GuildID])
}

model TextRoleRewards {
  GuildID String @db.VarChar(50)
  Nivel   Int
  RoleID  String @db.VarChar(50)

  @@id([GuildID, RoleID])
  @@index([GuildID])
  @@index([RoleID])
}

model UsersEconomyVoiceRewards {
  UserID  String @db.VarChar(50)
  GuildID String @db.VarChar(50)
  Coins   Int    @default(0)

  @@id([UserID, GuildID])
}

model ActiveTempVoices {
  GuildID         String @db.VarChar(50)
  ChannelID       String @db.VarChar(50)
  ChannelOwner    String @db.VarChar(50)
  ChannelCategory String @db.VarChar(50)

  @@id([GuildID, ChannelID])
  @@index([GuildID])
  @@index([ChannelID])
  @@index([ChannelOwner])
  @@index([ChannelCategory])
}

model ConfigChannels {
  GuildID            String @db.VarChar(50)  @id
  NotesLogs          String? @db.VarChar(50) 
  ModLog             String? @db.VarChar(50)
  TextXPNotification String? @db.VarChar(50)
  VcXPNotification   String? @db.VarChar(50)
  VoiceLogs          String? @db.VarChar(50) 

  @@index([GuildID])
}

model Moderation {
  GuildID     String @db.VarChar(50)
  UserID      String @db.VarChar(50)
  ModeratorID String @db.VarChar(50)
  CaseID      Int
  Type        String @db.VarChar(50)
  Reason      String @db.MediumText
  Date        DateTime

  @@id([GuildID, CaseID])
  @@index([GuildID])
  @@index([CaseID])
}